{% set feature_content = props.feature_content %}
{% set feature_categories = props.feature_categories %}
{% set feature_case_status = props.feature_case_status %}
{% set feature_post_link = props.feature_post_link %}

<section class="relative site-max site-grid pb-32 s:pb-120">
    <a href="{{ feature_post_link }}" class="col-span-full relative w-full h-full overflow-hidden aspect-[1] s:aspect-[1.94] group">
        <figure class="relative w-full top-[20%] h-[120%] bg-green" data-parallax="trigger" data-parallax-start="-30" data-parallax-end="0">
            {% include "blocks/common/image.twig" with {
                props : {
                    data: {
                        image : feature_content.feature_image
                    },
                    options: {
                        container_class: 'w-full h-full overflow-hidden  group-hover:scale-[1.02] group-hover:opacity-90 transition-all duration-[1s]',
                        class : 'w-full h-full object-cover',
                        aspect_ratio: 'none',
                        aspect_ratio_mobile: 'none',
                    }
                }
            } %}
        </figure>

        <div class="absolute inset-0">
            <div class="relative w-full h-full flex flex-col items-start justify-between p-24 s:p-32">

                <div class="relative flex gap-4">
                    {% if feature_categories %}
                        {% for category in feature_categories %}
                            {% include "/views/partials/tag.twig" with {
                                data: {
                                    text: category.name,
                                }
                            } %}
                        {% endfor %}
                    {% endif %}
                </div>

                <div class="relative flex flex-col space-y-[3.2rem] w-full">
                    <div class="relative flex gap-4">
                        {% if feature_case_status %}
                            <div class="case-status-tags">
                                {% for status in feature_case_status %}
                                    {% set status_background_color = function('get_field', 'background_color', 'term_' ~ status.term_id) %}
                                    {% include "/views/partials/category.twig" with {
                                        data: {
                                            text: status.name,
                                            bgColor: status_background_color|default('purple'),
                                        }
                                    } %}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <div class="relative flex flex-col s:flex-row items-start s:items-end s:justify-between space-y-24 s:space-y-0">
                        <h3 class="text-32 s:text-40 font-normal leading-[1.15] tracking-[-1%] text-white">{{ feature_content.title }}</h3>

                        <div class="relative">
                            <button class="relative font-sans text-white inline-flex space-x-8 items-center justify-center text-12 font-medium leading-none tracking-[0.12rem] uppercase" href="{{ feature_post_link }}">
                                <span class="inline-flex">
                                    See more
                                </span>
                                <span class="inline-flex">
                                    <svg class="w-8 h-11" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.73438 1L6.23438 5.5L1.73438 10" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </a>
</section>